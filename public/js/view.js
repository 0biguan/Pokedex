"use strict";var loadAbout=function(e){var t,n,a=e.species,r=e.weight,o=e.height,c=e.abilities;document.getElementById("species").innerHTML=a.name,document.getElementById("height").innerHTML=10*o+"cm",document.getElementById("weight").innerHTML=r/10+"kg",t=c,n=document.createElement("ul"),t.forEach(function(e){var t=document.createElement("li");t.innerHTML=e.ability.name,n.appendChild(t)}),document.getElementById("abilities").appendChild(n);var i;i=a.url,fetch("".concat(i)).then(function(e){return e.json()}).then(function(e){document.getElementById("color").innerHTML=e.color.name;var t=document.createElement("p"),n=Math.floor(10*Math.random());t.innerHTML=e.flavor_text_entries[n].flavor_text,document.getElementById("flavor text").appendChild(t)}).catch(function(e){return console.log(e)})},arrow=document.getElementById("icon-arrow"),heart=document.getElementById("icon-heart"),removeElement=function(e,t){var n=e.indexOf(t);-1<n&&e.splice(n,1)};arrow.addEventListener("click",function(){window.location="index.html"}),heart.addEventListener("click",function(e){var t=e.target.parentElement.nextElementSibling.firstElementChild.firstElementChild.firstElementChild.innerHTML,n=JSON.parse(localStorage.getItem("favorites"));e.target.classList.contains("isActive")?removeElement(n,t):n.push(t),localStorage.setItem("favorites",JSON.stringify(n)),e.target.classList.toggle("isActive")});var colors={normal:"#a8a878",fire:"#f08030",fighting:"#c03028",grass:"#78c850",electric:"#f8d030",water:"#6890f0",ground:"#e0c069",rock:"#b8a038",fairy:"#fceaff",poison:"#a040a0",bug:"#a8b820",dragon:"#6f38f8",psychic:"#f85888",flying:"#a890f0",ice:"#b8a038",ghost:"#705898",dark:"#715848",steel:"#b8b8d0"},LightenDarkenColor=function(e,t){var n=!1;"#"==e[0]&&(e=e.slice(1),n=!0);var a=parseInt(e,16),r=(a>>16)+t;255<r?r=255:r<0&&(r=0);var o=(a>>8&255)+t;255<o?o=255:o<0&&(o=0);var c=(255&a)+t;return 255<c?c=255:c<0&&(c=0),(n?"#":"")+(c|o<<8|r<<16).toString(16)},renderColor=function(e){var t=colors[e],n=document.getElementById("top-icons"),a=document.getElementById("main"),r=document.getElementById("basicinfo").querySelectorAll("span");n.style.backgroundColor=t,a.style.backgroundColor=t,r.forEach(function(e){e.style.backgroundColor=LightenDarkenColor(t,80)})};function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var renderInfo=function(e){var t=localStorage.getItem("imgView"),n=JSON.parse(localStorage.getItem("favorites"));document.getElementById("pokename").innerHTML=e.name,document.getElementById("pokenumber").innerHTML="#"+e.id.toString().padStart(3,"0");var a,r=document.getElementById("basicinfo"),o=_createForOfIteratorHelper(e.types);try{for(o.s();!(a=o.n()).done;){var c=a.value,i=document.createElement("span");i.innerHTML=c.type.name,r.appendChild(i)}}catch(e){o.e(e)}finally{o.f()}document.getElementById("pokedataimg").src="data:image/png;base64,"+t,-1!==n.indexOf(e.name)&&heart.classList.toggle("isActive")},labels=["id","power","pp"],labels2=["target","type","accuracy"],list=["effect","flavor"],loadMoves=function(e){var a=document.getElementById("moves-list");e.forEach(function(e){var t=document.createElement("li");t.innerHTML=e.move.name,t.classList.add("moves-list__item"),t.setAttribute("tabIndex",0),t.dataset.url=e.move.url,a.appendChild(t);var n=document.createElement("div");n.classList.add("moves-list__card"),a.appendChild(n)})},createCard=function(e,a){var t=document.createElement("div");t.classList.add("moves-list__info");var r=document.createElement("ul");r.classList.add("moves-list__block"),t.appendChild(r),labels.forEach(function(e){var t=document.createElement("li");t.classList.add("moves-list__".concat(e)),t.innerHTML="".concat(e,": ");var n=document.createElement("span");n.id="move-".concat(e,"-").concat(a),t.appendChild(n),r.appendChild(t)}),(r=document.createElement("ul")).classList.add("moves-list__block"),t.appendChild(r),labels2.forEach(function(e){var t=document.createElement("li");t.classList.add("moves-list__".concat(e)),t.innerHTML="".concat(e,": ");var n=document.createElement("span");n.id="move-".concat(e,"-").concat(a),t.appendChild(n),r.appendChild(t)}),e.appendChild(t);var o=document.createElement("ul");o.classList.add("moves-list__text"),list.forEach(function(e){var t=document.createElement("li");t.classList.add("moves-list__".concat(e)),t.innerHTML="".concat(e,":");var n=document.createElement("p");n.id="move-".concat(e,"-").concat(a),t.appendChild(n),o.appendChild(t)}),e.appendChild(o)},paintData=function(e){var t=e.name,n=e.id,a=e.power,r=e.pp,o=e.target,c=e.type,i=e.accuracy,l=e.effect_entries,d=e.flavor_text_entries;document.getElementById("move-id-".concat(t)).innerHTML=n,document.getElementById("move-power-".concat(t)).innerHTML=a,document.getElementById("move-pp-".concat(t)).innerHTML=r,document.getElementById("move-target-".concat(t)).innerHTML=o.name,document.getElementById("move-type-".concat(t)).innerHTML=c.name,document.getElementById("move-accuracy-".concat(t)).innerHTML=i,document.getElementById("move-effect-".concat(t)).innerHTML=l[0].effect,document.getElementById("move-flavor-".concat(t)).innerHTML=d[0].flavor_text,""==document.getElementById("move-accuracy-".concat(t)).innerHTML&&(document.getElementById("move-accuracy-".concat(t)).innerHTML="no-data"),""==document.getElementById("move-power-".concat(t)).innerHTML&&(document.getElementById("move-power-".concat(t)).innerHTML="no-data")},moves=document.getElementById("moves-list");moves.addEventListener("click",function(t){t.target.classList.contains("created")?t.target.nextElementSibling.classList.toggle("isActive"):fetch("".concat(t.target.dataset.url)).then(function(e){return e.json()}).then(function(e){createCard(t.target.nextElementSibling,e.name),paintData(e),t.target.classList.add("created"),t.target.nextElementSibling.classList.add("isActive")}).catch(function(e){return console.log(e)})});var renderSections=function(e){loadAbout(e),loadStats(e.stats),loadMoves(e.moves)},loadStats=function(r){var o=0;["HP","Attack","Defense","Sp.Atk","Sp.Defense","Speed"].forEach(function(e,t){var n=document.createElement("span");n.innerHTML=r[t].base_stat;var a=document.createElement("progress");a.id="".concat(e),a.setAttribute("max","100"),a.setAttribute("value","".concat(r[t].base_stat)),50<=r[t].base_stat?a.style.setProperty("--color-bar","#14a06f"):a.style.setProperty("--color-bar","#f42a28"),document.getElementById("".concat(e)).appendChild(n),document.getElementById("".concat(e)).appendChild(a),o+=r[t].base_stat});var e=document.createElement("span");e.innerHTML=o;var t=document.createElement("progress");t.id="Total",t.setAttribute("max","600"),t.setAttribute("value","".concat(o)),t.style.setProperty("--color-bar","#37a5c6"),document.getElementById("Total").appendChild(e),document.getElementById("Total").appendChild(t)};document.addEventListener("DOMContentLoaded",function(){var e=JSON.parse(localStorage.getItem("pokemonView"));renderInfo(e),renderColor(e.types[0].type.name),renderSections(e)});